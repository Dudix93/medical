<ion-header>
  <ion-navbar>
    <ion-title>Wiadomości</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

        <ion-segment [(ngModel)]="sort">
          <ion-segment-button value="all">
            Wszystkie
          </ion-segment-button>
          <ion-segment-button value="new">
            Nowe
          </ion-segment-button>
          <ion-segment-button value="old">
            Stare
          </ion-segment-button>
        </ion-segment>


    <h2 *ngIf="allMessages == null">Nie masz żadnych wiadomości.</h2>
      <ng-container *ngFor="let date of dates,let i = index">
              <h1>Z dnia: {{date}}</h1>
        <ion-grid>
            <ion-row>
                <ion-col col-3><ion-label>Godzina</ion-label></ion-col>
                <ion-col col-7><ion-label>Wiadomość</ion-label></ion-col>
                <ion-col col-2><ion-label>Usuń</ion-label></ion-col>
              </ion-row>
            <ng-container *ngIf="sort == 'all'">
            <ion-row *ngFor="let msg of allMessages,let i = index">
              <ng-container *ngIf="msg.date == date">
                <ion-col col-3><ion-label>{{msg.hour}}</ion-label></ion-col>
                <ion-col col-7><ion-label>{{msg.title}}</ion-label></ion-col>
                <ion-col col-2><ion-label></ion-label><ion-icon name="md-trash" (click)="finishTaskPrompt()"></ion-icon></ion-col>
              </ng-container>
            </ion-row>
            </ng-container>

            <ng-container *ngIf="sort == 'new'">
            <ion-row *ngFor="let msg of newMessages,let i = index">
                <ng-container *ngIf="msg.date == date">
                <ion-col col-3><ion-label>{{msg.time}}</ion-label></ion-col>
                <ion-col col-7><ion-label>{{msg.message}}</ion-label></ion-col>
                <ion-col col-2><ion-label></ion-label><ion-icon name="md-trash" (click)="finishTaskPrompt()"></ion-icon></ion-col>
              </ng-container>
            </ion-row>
            </ng-container>
            
            <ng-container *ngIf="sort == 'old'">
            <ion-row *ngFor="let msg of oldMessages,let i = index">
                <ng-container *ngIf="msg.date == date">
                <ion-col col-3><ion-label>{{msg.time}}</ion-label></ion-col>
                <ion-col col-7><ion-label>{{msg.message}}</ion-label></ion-col>
                <ion-col col-2><ion-label></ion-label><ion-icon name="md-trash" (click)="finishTaskPrompt()"></ion-icon></ion-col>
                </ng-container>
            </ion-row>
            </ng-container>

        </ion-grid>
      </ng-container>

  </ion-content>

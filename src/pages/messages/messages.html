<ion-header>
  <ion-navbar>
    <ion-title>Wiadomości</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

        <ion-segment [(ngModel)]="sort">
          <ion-segment-button value="all">
            Wszystkie
          </ion-segment-button>
          <ion-segment-button value="new">
            Nowe
          </ion-segment-button>
          <ion-segment-button value="old">
            Stare
          </ion-segment-button>
        </ion-segment>


    <h2 *ngIf="allMessages == null">Nie masz żadnych wiadomości.</h2>
        <ion-grid>
            <ion-row>
              <ion-col col-6><ion-label>Wiadomość</ion-label></ion-col>
              <ion-col col-3><ion-label>Data</ion-label></ion-col>
              <ion-col col-3><ion-label>Usuń</ion-label></ion-col>
            </ion-row>

            <ng-container *ngIf="sort == 'all'">
            <ion-row *ngFor="let msg of allMessages,let i = index">
                <ion-col col-6><ion-label>{{msg.message}}</ion-label></ion-col>
                <ion-col col-3><ion-label>{{msg.time}}<br>{{msg.date}}</ion-label></ion-col>
                <ion-col col-3><ion-label></ion-label><ion-icon name="md-trash" (click)="finishTaskPrompt()"></ion-icon></ion-col>
            </ion-row>
            </ng-container>

            <ng-container *ngIf="sort == 'new'">
            <ion-row *ngFor="let msg of newMessages,let i = index">
                <ion-col col-6><ion-label>{{msg.message}}</ion-label></ion-col>
                <ion-col col-3><ion-label>{{msg.time}}<br>{{msg.date}}</ion-label></ion-col>
                <ion-col col-3><ion-label></ion-label><ion-icon name="md-trash" (click)="finishTaskPrompt()"></ion-icon></ion-col>
            </ion-row>
            </ng-container>
            
            <ng-container *ngIf="sort == 'old'">
            <ion-row *ngFor="let msg of oldMessages,let i = index">
                <ion-col col-6><ion-label>{{msg.message}}</ion-label></ion-col>
                <ion-col col-3><ion-label>{{msg.time}}<br>{{msg.date}}</ion-label></ion-col>
                <ion-col col-3><ion-label></ion-label><ion-icon name="md-trash" (click)="finishTaskPrompt()"></ion-icon></ion-col>
            </ion-row>
            </ng-container>

        </ion-grid>
  </ion-content>
